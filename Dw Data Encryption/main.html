<!DOCTYPE html> 
<html id="page">

<meta charset="UTF-8"> 
<head>

   <title>DataWired - Home</title>

   <link href="res/logogif.gif" type="image/x-icon" rel="shortcut icon">

   </i>
<link href="c.css" rel="stylesheet">



</head>
<body>
    
  
    <div id="statusdiv">

        <img src="res/logogif.gif" id="logo">
    <div>
    </div>




    
    <div></div>
        <a id="a1"></a>
    </div>
    <div id="sepcontent">


    </div>
    <div id="content">

<div></div>

<div class="te">

    <header>Encrypt</header>
    
    <div></div>
    <div></div>
    <div></div>

<input id="input" name="amjad" type="file" class="input"> 
<div></div>
<a>your encrypted file content</a>
<div></div>
<textarea id="textarea" class="input"></textarea>


<div></div>




<a>your decryption password</a>
<div></div>
<textarea id="pass" class="input"></textarea>
<div></div>
name your file:
<input id="filenamede" aria-valuetext="text" value="dataDecripted.DataWiredEncrypt"></input>

</div>
        
   
    
    

<div class="te">

    <header>Dencrypt</header>
    <div></div>
    <div></div>
    <div></div>
    <input id="inputde" name="amjad" type="file" class="input"> 
    <div></div>
    <a>Paste your decryption password</a>
<div></div>
<form id="textinputform">
<textarea id="pss" aria-valuetext="text" class="input"></textarea>
</form>
<div></div>
name your file:
<input id="filename" aria-valuetext="text" value="data.txt"></input>
<div></div>
<button id="btn1">Check Password & download</button>
<div></div>
<a>your dencrypted file content</a>
<div></div>
<textarea id="dec" class="input"></textarea>

</div>





<script type="text/javascript">
 function download(filename, text) {
    var element = document.createElement('a');
    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
    element.setAttribute('download', filename);

    element.style.display = 'none';
    document.body.appendChild(element);

    element.click();

    document.body.removeChild(element);
}
    function data2arrayunique(data=""){
            var newarray = [];
            const size = newarray.length;
            var signal = 0;
            
                
            for(i=0; i< data.length; i++){
                signal = 0;
                for(i1=0; i1<= newarray.length; i1++){
                
                  
                        if(newarray[i1]==data[i]){
                            
                            signal = 1;
                            
                        }
                    
                 }
          
            if(signal == 0){
                newarray.push(data[i]);
            }
            signal = 1;
            }
        return newarray;
    }

   function range(start=0,end=0){
        
        var array = []
        
     for(var i =0; i <= end; i++){
        array.push(start++);
     }
    return array;
    }

    function shifter(array=[]){

        var newarray  = [];
        newarray.push(array[array.length-1]);
        
        for(i=0;i<array.length;i++){
                newarray.push(array[i]);
        }
        newarray.pop();

        return newarray
    }

    function represntaion(data=""){
           var newarray = [];
           var newset = data2arrayunique(data);
           const uniquenumber = newset.length; 
           var builder = "";
            var uniquerep = [];
            var randomnumber = Math.round(Math.random()*range(32,255).length);
            var charrand = String.fromCharCode(randomnumber);
            var repdata = "";            



           while(data2arrayunique(repdata).length!=uniquenumber){
                uniquerep = [];

            for(i=0;i<uniquenumber;i++){
                randomnumber = Math.round(Math.random()*range(0,254).length);
                charrand = String.fromCharCode(randomnumber);
                repdata += charrand;
                uniquerep.push(charrand);
            }
            if(data2arrayunique(repdata).length!=uniquenumber){
                break;
            }
              }
               
    
///                                 
                newarray.push(newset);
                newarray.push(uniquerep);
                

                return newarray;
    }
    
                
        function shuffle(table=[[""]]){
            var newtable = [[""]];  
             newtable.pop();
            var c0 = table[0];
            var c1 = shifter(table[1]);
            
             newtable.push(c0);
             newtable.push(c1);

        return newtable;
        }


       
</script>

<script type="text/javascript">
    


    /*
    let data = "amjad salim sloum";
     var table = represntaion(data);
     let ref = table[1];
     var builder = "";
     console.log(ref);
 console.log(table); 
     var indexer = range(0,table[0].length-1);
     var repshifter = Math.round(Math.random()*range(1,9).length);
     var shiterfinal = 0;
     var si = 0;
     var serial = "";
    
  while(repshifter==0){
    repshifter = Math.round(Math.random()*range(1,9).length);
    if(repshifter!=0){
        break;
    }
  }


console.log(indexer);
console.log(shifter(indexer));

for(i=0;i<data.length;i++){
    
    if(table[0].indexOf(data[i],0)==0||table[0].indexOf(data[i],0)>9){
    for(c=0;c<table[0].length;c++){
    
          if(data[i]==table[0][c]){

            builder += table[1][c];
            serial+= "0";
          }
    }
}else{


    repshifter = Math.round(Math.random()*range(1,9).length);
        while(repshifter==0||table[0].indexOf(data[i],0)-repshifter<0){
            repshifter = Math.round(Math.random()*range(1,9).length);

            if(repshifter!=0 && table[0].indexOf(data[i],0)-repshifter>=0){
                break;
            }
        }

        
    serial+= table[0].indexOf(data[i],0)-repshifter;
    builder += table[1][repshifter];


}



}

console.log(serial);
console.log(builder);
console.log(data);
     /////
     var builder2 = "";
     var dedata = builder;
     for(i=0;i<dedata.length;i++){
    

    if(serial[i]==0){
    for(c=0;c<table[0].length;c++){
        

        if(dedata[i]==table[1][c]){            
           
            builder2 += table[0][c];
            console.log("0");
        }

    }
        }else{

            var test = "";
            console.log(table[1].indexOf(dedata[i],0)+parseInt(serial[i],table[1].length));
        
            builder2 += table[0][Math.abs(table[1].indexOf(dedata[i],0)+parseInt(serial[i],table[1].length))];

        }


}



console.log(test);
console.log(builder2);
     ////



     */
     var table = [];
 var serial = "";
 var builder = "";
    var a1 = document.getElementById("a1");

    var input = document.querySelector("input");
    var filereader = new FileReader();
    var data = "";

    var localtable = [];
    document.querySelector("input[id=input]").onchange = () =>{
        
        filereader.readAsText(input.files[0]);

       filereader.onloadend = () => {




            data  = filereader.result;
            a1.innerText = data;
            document.getElementById("a1").innerText = "File Upload complete";
       
            

//

 table = represntaion(data);
 serial = "";
 builder = "";
     let ref = table[1];
    
     var indexer = range(0,table[0].length-1);
     var repshifter = Math.round(Math.random()*range(1,9).length);
     var shiterfinal = 0;
     var si = 0;
    
    
  while(repshifter==0){
    repshifter = Math.round(Math.random()*range(1,9).length);
    if(repshifter!=0){
        break;
    }
  }


for(i=0;i<data.length;i++){
    
    if(table[0].indexOf(data[i],0)==0||table[0].indexOf(data[i],0)>=9){
    for(c=0;c<table[0].length;c++){
    
          if(data[i]==table[0][c]){

            builder += table[1][c];
            serial+= "0";
          }
    }
    }else{


    repshifter = Math.round(Math.random()*range(1,9).length);
        while(repshifter==0||table[0].indexOf(data[i],0)-repshifter<0){
            repshifter = Math.round(Math.random()*range(1,9).length);

            if(repshifter!=0 && table[0].indexOf(data[i],0)-repshifter>=0){
                break;
            }
        }

        
    serial+= table[0].indexOf(data[i],0)-repshifter;
    builder += table[1][repshifter];


    }
}


  //     
document.getElementById("textarea").innerHTML = builder;
  
var pass = "";

for(i=0;i<20;i++){
    
    pass+=Math.round(Math.random()*124);
}
document.getElementById("pass").innerHTML = pass;


localtable.push([{"0":pass},{"1":table},{"2":builder},{"3":serial}]);

download(document.getElementById("filenamede").value,builder);

//




       }
       filereader.onload = () => {
        document.getElementById("a1").innerText = "Uploading ...";

        

       }
            
       filereader.onprogress = () => {
        document.getElementById("a1").innerText = "Loading in progress ...";

        }

    }







            var filereader2 = new FileReader();
   
   
            var inputde = document.querySelector("input[id=inputde]");
        document.querySelector("input[id=inputde]").onchange = () =>{

            var passwordexist =0;
for(ro=0;ro<localtable.length;ro++){
   
    if(localtable[ro][0]["0"]==document.getElementById("pss").value){
        table = localtable[ro][1]["1"];
        builder = localtable[ro][2]["2"];
        serial = localtable[ro][3]["3"];
        passwordexist =1;
        break;
    }
}

if(passwordexist == 1){
        filereader2.readAsText(inputde.files[0]);

       filereader2.onloadend = () => {

        console.log(filereader2.result)
        document.getElementById("btn1").onclick = ()=> {



var builder2 = "";
     var dedata = filereader2.result;
     for(i=0;i<=dedata.length;i++){
    

    if(serial[i]==0){
    for(c=0;c<table[0].length;c++){
        

        if(dedata[i]==table[1][c]){            
           
            builder2 += table[0][c];
            
        }

    }
        }else{

            
        
            builder2 += table[0][Math.abs(table[1].indexOf(dedata[i],0)+parseInt(serial[i],table[1].length))];

        }


}



document.getElementById("dec").innerHTML = builder2.substring(0,builder2.length-9);

    download(document.getElementById("filename").value,builder2.substring(0,builder2.length-9));

    }
    }
}else{
    alert("there is no data for this password");
}
}
//
     
        
   
  






    
</script>
   

</body>
 <div id="sep">
    
 </div>

<footer>
    <div id="divfooter">

        <a>This Fronted App is Designed by Amjad Al Shuakiri</a>

    </div>

</footer>

</html>